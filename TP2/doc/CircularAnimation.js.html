<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: CircularAnimation.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: CircularAnimation.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
  Class representing an Animation of type Circular
  @extends Animation
*/
class CircularAnimation extends Animation{
  /**
    Creates a Ciruclar animation
    @constructor
    @param {XMLScene} scene XML Scene where the animation will be represented
    @param {Number} velocity The animation velocity
    @param {Array} center The animation's center
    @param {Number} radius The animation's radius
    @param {Number} startang The initial angle that the object has to rotate
    @param {Number} rotang The total angle that the object has to rotate
   */
  constructor(scene,velocity, center, radius, startang, rotang){
    super(scene,velocity);
    var DEGREE_TO_RAD = Math.PI/180;
    this.animationCenter = vec3.fromValues(center[0],center[1],center[2]);
    this.startAngle = startang * DEGREE_TO_RAD;
    this.rotAngle = rotang * DEGREE_TO_RAD;
    this.animationRadius = radius;
    this.elapsedTime = 0;
    this.angle = 0;
    this.angularVelocity = this.velocity / this.animationRadius;
    this.moving = true;
    this.posY = this.animationCenter[1];
    this.aux = mat4.create();
    mat4.identity(this.aux);
  }
  /**
    Checks if the animation has reached its end
    @name checkPositionStatus
    @memberof CircularAnimation
  */
  checkPositionStatus(){
    if(this.angle >= this.rotAngle){
      this.moving = false;
    }
  }
  /**
    Calculates the position of the object in the animation as well as the angle
    @param {Number} deltaTime time between updates
    @name calcPosition
    @memberof CircularAnimation
  */
  calcPosition(deltaTime){
    this.angle += this.startAngle + this.angularVelocity*deltaTime;
    this.posX = Math.cos(this.angle) * this.animationRadius;
    this.posZ = Math.sin(this.angle) * this.animationRadius;
  }
  /**
    Calculates the animation's transform matrix.
    @param {Number} deltaTime time between updates
    @name update
    @memberof CircularAnimation
  */
  update(deltaTime) {
    this.elapsedTime += deltaTime;
    this.calcPosition(deltaTime);
    mat4.translate(this.transformMatrix, this.aux, [this.animationCenter[0], this.animationCenter[1], this.animationCenter[2]]);
    mat4.translate(this.transformMatrix, this.transformMatrix, [this.posX, this.posY, this.posZ]);
    mat4.rotate(this.transformMatrix, this.transformMatrix, -this.startAngle + this.angle, [0, 1, 0]);
    this.checkPositionStatus();
  }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Animation.html">Animation</a></li><li><a href="BezierAnimation.html">BezierAnimation</a></li><li><a href="Circle.html">Circle</a></li><li><a href="CircularAnimation.html">CircularAnimation</a></li><li><a href="ComboAnimation.html">ComboAnimation</a></li><li><a href="LinearAnimation.html">LinearAnimation</a></li><li><a href="MyCylinder.html">MyCylinder</a></li><li><a href="MyCylinderwithoutTops.html">MyCylinderwithoutTops</a></li><li><a href="MyGraphNode.html">MyGraphNode</a></li><li><a href="MyInterface.html">MyInterface</a></li><li><a href="MyPatch.html">MyPatch</a></li><li><a href="MyRectangle.html">MyRectangle</a></li><li><a href="MySceneGraph.html">MySceneGraph</a></li><li><a href="MySphere.html">MySphere</a></li><li><a href="MyTriangle.html">MyTriangle</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sun Nov 26 2017 18:18:44 GMT+0000 (WET)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
